import{_ as N}from"./nuxt-link.9baca0e1.js";import{K as f,L as S,M as b,N as w,O as L,P as C,r as O,Q as k,R as T,S as j,T as B,U as R,V,W as q,X as F,Y as H,Z as I,$,n as E,c as l,a as y,F as A,q as Q,u as z,a0 as D,b as p,d as x,w as M,s as U,o as d,t as W}from"./entry.412f58ea.js";import{g as X}from"./index.1ce261a9.js";const Y=(e,n)=>n.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,t=>{var a;return((a=e.params[t.slice(1)])==null?void 0:a.toString())||""}),_=(e,n)=>{const t=e.route.matched.find(i=>{var r;return((r=i.components)==null?void 0:r.default)===e.Component.type}),a=n??(t==null?void 0:t.meta.key)??(t&&Y(e.route,t));return typeof a=="function"?a(e.route):a},Z=(e,n)=>({default:()=>e?f(S,e===!0?{}:e,n):n}),G=b({name:"RouteProvider",props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,t=e.route,a={};for(const i in e.route)Object.defineProperty(a,i,{get:()=>n===e.renderKey?e.route[i]:t[i]});return w(C,L(a)),()=>f(e.vnode,{ref:e.vnodeRef})}}),J=b({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:n,expose:t}){const a=B(),i=O(),r=k(C,null);t({pageRef:i});const s=k(T,null);let u;const c=a.deferHydration();return()=>f(j,{name:e.name,route:e.route,...n},{default:o=>{const m=te(r,o.route,o.Component),v=r&&r.matched.length===o.route.matched.length;if(!o.Component){if(u&&!v)return u;c();return}if(u&&s&&!s.isCurrent(o.route))return u;if(m&&r&&(!s||s!=null&&s.isCurrent(r)))return v?u:null;const h=_(o,e.pageKey),g=!!(e.transition??o.route.meta.pageTransition??R),K=g&&ee([e.transition,o.route.meta.pageTransition,R,{onAfterLeave:()=>{a.callHook("page:transition:finish",o.Component)}}].filter(Boolean));return u=V(I,g&&K,Z(e.keepalive??o.route.meta.keepalive??H,f(q,{suspensible:!0,onPending:()=>a.callHook("page:start",o.Component),onResolve:()=>{F(()=>a.callHook("page:finish",o.Component).finally(c))}},{default:()=>f(G,{key:h,vnode:o.Component,route:o.route,renderKey:h,trackRootNodes:g,vnodeRef:i})}))).default(),u}})}});function P(e){return Array.isArray(e)?e:e?[e]:[]}function ee(e){const n=e.map(t=>({...t,onAfterLeave:P(t.onAfterLeave)}));return $(...n)}function te(e,n,t){if(!e)return!1;const a=n.matched.findIndex(i=>{var r;return((r=i.components)==null?void 0:r.default)===(t==null?void 0:t.type)});return!a||a===-1?!1:n.matched.slice(0,a).some((i,r)=>{var s,u,c;return((s=i.components)==null?void 0:s.default)!==((c=(u=e.matched[r])==null?void 0:u.components)==null?void 0:c.default)})||t&&_({route:n,Component:t})!==_({route:e,Component:t})}const ne=X`
query nav{
  mainContent {
    titleSite
    navLinks {
      ... on ArticleRecord {
        id
        title
      }
      ... on ContactRecord {
        id
        title
      }
    }
  }
}`,ae={key:0},oe={key:1},re=y("footer",null,[y("h2",null,"Footer")],-1),ce={__name:"default",async setup(e){let n,t;const{data:a,pending:i,error:r}=([n,t]=E(()=>U(ne)),n=await n,t(),n);return console.log(a),(s,u)=>{const c=N,o=J;return d(),l(A,null,[y("div",null,[s.pending?s.pending?(d(),l("p",oe,"Loading...")):D("",!0):(d(),l("ul",ae,[(d(!0),l(A,null,Q(z(a).mainContent.navLinks,m=>(d(),l("li",{key:m.id},W(m.title),1))),128))])),y("nav",null,[p(c,{to:"/"}),x(" | "),p(c,{to:"/contact"},{default:M(()=>[x("Contact")]),_:1})])]),p(o),re],64)}}};export{ce as default};
