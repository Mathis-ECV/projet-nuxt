import{_ as L}from"./nuxt-link.9baca0e1.js";import{y as q,u as s,z as B,x as O,A as R,B as T,n as U,c,t as y,F as N,q as V,a as p,b as W,w as z,o as i,d as v}from"./entry.412f58ea.js";function S(_,o,l){var k;const[t={},h]=typeof o=="string"?[{},o]:[o,l],e=q(()=>{let u=_;return typeof u=="function"&&(u=u()),s(u)}),a=t.key||B([h,((k=s(t.method))==null?void 0:k.toUpperCase())||"GET",s(t.baseURL),typeof e.value=="string"?e.value:"",s(t.params||t.query),s(t.headers)]);if(!a||typeof a!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+a);if(!_)throw new Error("[nuxt] [useFetch] request is missing.");const m=a===h?"$f"+a:a;if(!t.baseURL&&typeof e.value=="string"&&e.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:f,lazy:d,default:n,transform:b,pick:C,watch:g,immediate:D,getCachedData:F,deep:A,...$}=t,w=O({...R,...$,cache:typeof t.cache=="boolean"?void 0:t.cache}),E={server:f,lazy:d,default:n,transform:b,pick:C,immediate:D,getCachedData:F,deep:A,watch:g===!1?[]:[w,e,...g||[]]};let r;return T(m,()=>{var x;return(x=r==null?void 0:r.abort)==null||x.call(r),r=typeof AbortController<"u"?new AbortController:{},typeof e.value=="string"&&e.value.startsWith("/"),(t.$fetch||globalThis.$fetch)(e.value,{signal:r.signal,...w})},E)}const j=p("h1",null,"Mountains",-1),G={key:0},K={key:1},M={key:2},Y=["src","alt"],P={__name:"fetching",async setup(_){let o,l;const{data:t,pending:h,error:e,refresh:a}=([o,l]=U(()=>S("https://api.nuxtjs.dev/mountains","$YcWx7OA0g5")),o=await o,l(),o);return(m,f)=>{const d=L;return i(),c("div",null,[j,s(h)?(i(),c("p",G,"Loading...")):s(e)?(i(),c("p",K,y(s(e).message),1)):(i(),c("ul",M,[(i(!0),c(N,null,V(s(t),n=>(i(),c("li",{key:n.title},[p("img",{src:n.image,alt:n.title,width:"100"},null,8,Y),v(" "+y(n.title)+" ",1),p("p",null,y(n.description),1)]))),128))])),p("button",{onClick:f[0]||(f[0]=(...n)=>s(a)&&s(a)(...n))},"Refresh"),W(d,{to:"/store"},{default:z(()=>[v("Store")]),_:1})])}}};export{P as default};
